components:
  schemas:
    WebhookTrakteerBody:
      type: object
      properties:
        type:
          type: string
          description: The type of event that triggered the webhook
          example: "donation"
        price:
          type: number
          description: The amount of the donation
          example: 10000
        supporter_name:
          type: string
          description: The name of the supporter
          example: "John Doe"
        supporter_message:
          type: string
          description: The message from the supporter
          example: "Keep up the good work!"
    WebhookTrakteerPostResponse:
      type: object
      properties:
        code:
          type: integer
          description: The HTTP status code
          example: 200
        status:
          type: string
          description: The status of the response
          example: "success"
        message:
          type: string
          description: The message of the response
          example: "Trakteer Webhook Received"
        data:
          type: object
          properties:
            type:
              type: string
              description: The type of event that triggered the webhook
              example: "donation"
            price:
              type: number
              description: The amount of the donation
              example: 10000
            supporter_name:
              type: string
              description: The name of the supporter
              example: "John Doe"
            supporter_message:
              type: string
              description: The message from the supporter
              example: "Keep up the good work!"
    WebhookTrakteerInvalidBodyResponse:
      type: object
      properties:
        code:
          type: integer
          description: The HTTP status code
          example: 400
        status:
          type: string
          description: The status of the response
          example: "error"
        message:
          type: string
          description: The error message
          example: "Invalid request body"
        data:
          type: object
    WebhookTrakteerUnauthorizedResponse:
      type: object
      properties:
        code:
          type: integer
          description: The HTTP status code
          example: 401
        status:
          type: string
          description: The status of the response
          example: "error"
        message:
          type: string
          description: The error message
          example: "Unauthorized request"
        data:
          type: object

/webhook/trakteer:
  post:
    summary: Trakteer webhook notification
    description: This endpoint is used to receive webhook notifications from Trakteer.
    operationId: trakteerWebhook
    tags:
      - Webhook
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/WebhookTrakteerBody'
    responses:
      '200':
        description: Successful response
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookTrakteerPostResponse'
      "400":
        description: Bad request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookTrakteerInvalidBodyResponse'
      "401":
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookTrakteerUnauthorizedResponse'
      "404":
        description: Route not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MissingRouteResponse'
      "500":
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'